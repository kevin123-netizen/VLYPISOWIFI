<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>VLY PisoWiFi ‚Äî Dashboard</title>
  <style>
    :root{
      --primary:#0056b3;
      --primary-dark:#003d80;
      --bg:#ffffff;
      --fg:#222222;
    }
    body{margin:0;font-family:system-ui,Arial,sans-serif;background:var(--bg);color:var(--fg);display:flex;flex-direction:column;min-height:100vh}
    .navbar{width:100%;display:flex;justify-content:space-between;align-items:center;padding:12px 16px;background:#f7f7f9;border-bottom:1px solid #e6e6ee}
    .nav-links a{margin:0 6px;padding:8px 12px;border-radius:6px;text-decoration:none;color:var(--primary)}
    .nav-links a.active{background:var(--primary);color:#fff}
    button{cursor:pointer;background:var(--primary);color:#fff;border:0;border-radius:8px;padding:10px 14px;font-weight:600;transition:.2s}
    button:hover{background:var(--primary-dark)}
    section{display:none;opacity:0;transition:opacity .4s;flex:1;padding:20px}
    section.active{display:block;opacity:1}
    .hero{text-align:center;padding:40px 16px}
    .grid{display:grid;grid-template-columns:repeat(auto-fit,minmax(220px,1fr));gap:16px;margin:24px auto;max-width:1000px;padding:0 16px}
    .card{background:#fff;border:1px solid #ddd;border-radius:12px;padding:18px;box-shadow:0 4px 10px rgba(0,0,0,.06)}
    #authSection{display:none;align-items:center;justify-content:center;min-height:calc(100vh - 100px);flex:1}
    #authSection input{width:100%;padding:10px;border:1px solid #ccc;border-radius:8px;margin:8px 0}
    #authSection button{width:100%;margin-top:10px}
    #notif{display:none;position:fixed;top:0;left:0;right:0;padding:12px;font-weight:700;text-align:center;z-index:999}
    footer{margin-top:40px;padding:16px;text-align:center;font-size:0.9em;color:#555;border-top:1px solid #eee;background:#f9f9fb}
    
    /* Sidebar */
    .sidebar{width:220px;background:#f1f3f8;border-right:1px solid #ddd;display:none;flex-direction:column;padding-top:20px;position:fixed;top:56px;bottom:0;left:0;z-index:1000}
    .sidebar a{padding:12px 18px;text-decoration:none;color:var(--fg);display:block;border-radius:6px;margin:4px 8px}
    .sidebar a:hover,.sidebar a.active{background:var(--primary);color:#fff}
    .main{flex:1;display:flex;flex-direction:column;margin-left:0}
    .with-sidebar{margin-left:220px}
    @media(max-width:768px){
      .sidebar{left:-220px;transition:left .3s}
      .sidebar.show{left:0}
      .toggle-btn{display:block;position:absolute;top:10px;left:10px;background:var(--primary);color:#fff;border:none;padding:8px 12px;border-radius:6px;z-index:1100}
      .with-sidebar{margin-left:0}
    }
    @media(min-width:769px){
      .toggle-btn{display:none}
    }
  </style>
</head>
<body>
  <div id="notif"></div>

  <!-- NAVBAR (always visible) -->
  <div class="navbar" id="topNav">
    <div class="brand">VLY PisoWiFi</div>
    <div class="nav-links">
      <a href="#" onclick="showHome()">Home</a>
      <a href="#" onclick="showLogin()" id="navLogin">Login</a>
      <a href="#" onclick="showSignup()" id="navSignup">Sign Up</a>
      <a href="#" onclick="logout()" id="navLogout" style="display:none">Logout</a>
    </div>
  </div>

  <!-- SIDEBAR (after login) -->
  <div class="sidebar" id="sideBar">
    <button class="toggle-btn" onclick="toggleSidebar()">‚ò∞</button>
    <a href="#" onclick="showDashboard()" id="sbDashboard">üìä Dashboard</a>
    <a href="#" onclick="showWebsite()" id="sbWebsite">üåê Website</a>
    <a href="#" onclick="showLicensed()" id="sbLicensed">üéü License Management</a>
    <a href="#" onclick="showTools()" id="sbTools">üõ† Tools</a>
    <a href="#" onclick="showSettings()" id="sbSettings">‚öô Settings</a>
    <a href="#" onclick="showAdmin()" id="sbBuy">üí≥ Buy License</a>
    <a href="#" onclick="logout()">üö™ Logout</a>
  </div>

  <!-- MAIN CONTENT -->
  <div class="main" id="mainContent">
    <!-- HOME -->
    <section id="home" class="active">
      <div class="hero">
        <h2>Welcome to VLY PisoWiFi</h2>
        <p>Fast Internet, Secure Access, Admin Control & Easy Payments.</p>
        <p style="margin-top:20px;font-weight:bold;">
          üì± My Cellular Number: 09356290856 <br>
          üìß Email: kevinblaza816@gmail.com
        </p>
        <div style="display:flex;gap:10px;justify-content:center;flex-wrap:wrap;margin-top:15px;">
          <button onclick="showAdmin()">Buy a License</button>
          <button onclick="showLogin()">Login</button>
          <button onclick="showSignup()">Sign Up</button>
        </div>
      </div>
      <div class="grid">
        <div class="card"><h3>‚ö° Fast Internet</h3><p>Enjoy reliable high-speed connectivity anytime.</p></div>
        <div class="card"><h3>üîí Secure Access</h3><p>Protect your network with token-based authentication.</p></div>
        <div class="card"><h3>üõ†Ô∏è Admin Control</h3><p>Manage users, licenses, and settings with ease.</p></div>
        <div class="card"><h3>üí≥ Easy Payments</h3><p>Convenient and hassle-free license purchasing.</p></div>
      </div>
    </section>

    <!-- AUTH -->
    <section id="authSection">
      <div style="width:100%;max-width:380px">
        <div id="login" class="card">
          <h3>Login</h3>
          <input id="username" placeholder="Username" />
          <input id="password" type="password" placeholder="Password" />
          <button onclick="doLogin()">Login</button>
          <div style="text-align:center;margin-top:10px">No account? <a href="#" onclick="showSignup()">Sign Up</a></div>
        </div>
        <div id="signup" class="card" style="display:none">
          <h3>Sign Up</h3>
          <input id="newUser" placeholder="Username" />
          <input id="newPass" type="password" placeholder="Password" />
          <button onclick="doSignup()">Create Account</button>
          <div style="text-align:center;margin-top:10px">Have an account? <a href="#" onclick="showLogin()">Login</a></div>
        </div>
      </div>
    </section>

    <!-- DASHBOARD -->
    <section id="dashboardUI" style="display:none">
      <div class="card">
        <h3>Dashboard</h3>
        <p>Welcome back! Use the sidebar to navigate through your tools and settings.</p>
      </div>
    </section>

    <!-- ADMIN -->
    <section id="adminUI" style="display:none">
      <div class="card">
        <h3>Buy License</h3>
        <button onclick="generateLicense()">Generate License</button>
        <pre id="licenseOut"></pre>
      </div>
    </section>

    <!-- WEBSITE -->
    <section id="websiteUI" style="display:none">
      <div class="card">
        <h3>Website</h3>
        <p>This section links to your official VLY PisoWiFi site.</p>
        <a href="https://example.com" target="_blank"><button>Go to Website</button></a>
      </div>
    </section>

    <!-- LICENSE MANAGEMENT -->
    <section id="licensedUI" style="display:none">
      <div class="card">
        <h3>Your Licenses</h3>
        <button onclick="loadLicenses()">Refresh</button>
        <pre id="licenses"></pre>
      </div>
    </section>

    <!-- TOOLS -->
    <section id="toolsUI" style="display:none">
      <div class="card">
        <h3>Tools</h3>
        <p>üõ† Tools and utilities will appear here.</p>
      </div>
    </section>

    <!-- SETTINGS -->
    <section id="settingsUI" style="display:none">
      <div class="card">
        <h3>Account Settings</h3>
        <label>Email for Verification:</label>
        <input id="email" placeholder="Your Email" />
        <button onclick="saveEmail()">Save Email</button>
        <br><br>
        <label>Change Password:</label>
        <input id="oldPass" type="password" placeholder="Old Password" />
        <input id="newPassChange" type="password" placeholder="New Password" />
        <button onclick="changePassword()">Change Password</button>
      </div>
    </section>

    <footer>
      ¬© 2025 VLY PisoWiFi | Powered by VoloyPlatform
    </footer>
  </div>

<script>
  let currentUser = localStorage.getItem("sessionUser") || null;

  function showNotif(msg,type="success"){
    const n=document.getElementById("notif");
    n.textContent=msg;
    n.style.display="block";
    n.style.background=type==="error"?"#f8d7da":"#d4edda";
    n.style.color=type==="error"?"#721c24":"#155724";
    setTimeout(()=>n.style.display="none",3000);
  }

  function hideAll(){
    document.querySelectorAll("section").forEach(s=>{s.classList.remove("active");s.style.display="none"});
  }

  function showHome(){hideAll();document.getElementById("home").style.display="block";document.getElementById("home").classList.add("active");}
  function showLogin(){hideAll();document.getElementById("authSection").style.display="flex";document.getElementById("login").style.display="block";document.getElementById("signup").style.display="none";document.getElementById("authSection").classList.add("active");}
  function showSignup(){hideAll();document.getElementById("authSection").style.display="flex";document.getElementById("signup").style.display="block";document.getElementById("login").style.display="none";document.getElementById("authSection").classList.add("active");}
  function showDashboard(){hideAll();document.getElementById("dashboardUI").style.display="block";document.getElementById("dashboardUI").classList.add("active");}
  function showAdmin(){if(!currentUser){return showLogin();}hideAll();document.getElementById("adminUI").style.display="block";document.getElementById("adminUI").classList.add("active");}
  function showWebsite(){hideAll();document.getElementById("websiteUI").style.display="block";document.getElementById("websiteUI").classList.add("active");}
  function showLicensed(){if(!currentUser){return showLogin();}hideAll();document.getElementById("licensedUI").style.display="block";document.getElementById("licensedUI").classList.add("active");loadLicenses();}
  function showTools(){if(!currentUser){return showLogin();}hideAll();document.getElementById("toolsUI").style.display="block";document.getElementById("toolsUI").classList.add("active");}
  function showSettings(){if(!currentUser){return showLogin();}hideAll();document.getElementById("settingsUI").style.display="block";document.getElementById("settingsUI").classList.add("active");loadSettings();}

  function doSignup(){
    let u=document.getElementById("newUser").value.trim();
    let p=document.getElementById("newPass").value;
    if(!u||!p) return showNotif("‚ùå Fill all fields","error");
    let users=JSON.parse(localStorage.getItem("users")||"{}");
    if(users[u]) return showNotif("‚ùå Username already exists","error");
    users[u]={pass:btoa(p),email:""};
    localStorage.setItem("users",JSON.stringify(users));
    showNotif("‚úÖ Account created");
    showLogin();
  }

  function doLogin(){
    let u=document.getElementById("username").value.trim();
    let p=document.getElementById("password").value;
    let users=JSON.parse(localStorage.getItem("users")||"{}");
    if(users[u] && users[u].pass===btoa(p)){
      currentUser=u;
      localStorage.setItem("sessionUser",u);
      showNotif("‚úÖ Logged in");
      enterDashboard();
    } else {
      showNotif("‚ùå Invalid credentials","error");
    }
  }

  function logout(){
    currentUser=null;
    localStorage.removeItem("sessionUser");
    document.getElementById("sideBar").style.display="none";
    document.getElementById("mainContent").classList.remove("with-sidebar");
    document.getElementById("navLogin").style.display="inline-block";
    document.getElementById("navSignup").style.display="inline-block";
    document.getElementById("navLogout").style.display="none";
    showHome();
    showNotif("‚úÖ Logged out");
  }

  function enterDashboard(){
    document.getElementById("sideBar").style.display="flex";
    document.getElementById("mainContent").classList.add("with-sidebar");
    document.getElementById("navLogin").style.display="none";
    document.getElementById("navSignup").style.display="none";
    document.getElementById("navLogout").style.display="inline-block";
    showDashboard();
  }

  function generateLicense(){
    if(!currentUser) return;
    let licenses=JSON.parse(localStorage.getItem("licenses")||"{}");
    if(!licenses[currentUser]) licenses[currentUser]=[];
    let code="LIC-"+Math.random().toString(36).substring(2,10).toUpperCase();
    licenses[currentUser].push(code);
    localStorage.setItem("licenses",JSON.stringify(licenses));
    document.getElementById("licenseOut").textContent=code;
    loadLicenses();
  }

  function loadLicenses(){
    if(!currentUser) return;
    let licenses=JSON.parse(localStorage.getItem("licenses")||"{}");
    document.getElementById("licenses").textContent=JSON.stringify(licenses[currentUser]||[],null,2);
  }

  function saveEmail(){
    let email=document.getElementById("email").value.trim();
    if(!email) return showNotif("‚ùå Enter a valid email","error");
    let users=JSON.parse(localStorage.getItem("users")||"{}");
    if(users[currentUser]){
      users[currentUser].email=email;
      localStorage.setItem("users",JSON.stringify(users));
      showNotif("‚úÖ Email saved");
    }
  }

  function loadSettings(){
    let users=JSON.parse(localStorage.getItem("users")||"{}");
    if(users[currentUser]){
      document.getElementById("email").value=users[currentUser].email||"";
    }
  }

  function changePassword(){
    let oldPass=document.getElementById("oldPass").value;
    let newPass=document.getElementById("newPassChange").value;
    let users=JSON.parse(localStorage.getItem("users")||"{}");
    if(users[currentUser] && users[currentUser].pass===btoa(oldPass)){
      users[currentUser].pass=btoa(newPass);
      localStorage.setItem("users",JSON.stringify(users));
      showNotif("‚úÖ Password changed");
    } else {
      showNotif("‚ùå Old password incorrect","error");
    }
  }

  function toggleSidebar(){
    document.getElementById("sideBar").classList.toggle("show");
  }

  (function init(){
    if(currentUser){ enterDashboard(); }
    else { showHome(); }
  })();
</script>
</body>
</html>